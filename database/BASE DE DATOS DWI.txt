CREATE TABLE categoria(
	ID INT PRIMARY KEY AUTO_INCREMENT,
	nombre VARCHAR(50)
);

CREATE TABLE talla(
	ID INT PRIMARY KEY AUTO_INCREMENT,
	numeroCalzado INT
);

CREATE TABLE color(
	ID INT PRIMARY KEY AUTO_INCREMENT,
	color VARCHAR(50)
);

CREATE TABLE marca(
	ID INT PRIMARY KEY AUTO_INCREMENT,
	marca VARCHAR(50)
);

CREATE TABLE cliente (
	ID INT PRIMARY KEY AUTO_INCREMENT,
	email VARCHAR(100),
	contraseña VARCHAR(20)
);

CREATE TABLE compra(
	ID INT PRIMARY KEY AUTO_INCREMENT,
	id_cliente INT, -- F
	id_pago INT, -- F
	fechaHoraCreacion DATETIME,
	monto DECIMAL(18, 2),
	estado VARCHAR(50)
);

CREATE TABLE detallecompras(
	ID INT PRIMARY KEY AUTO_INCREMENT,
	id_producto INT, -- F
	id_compra INT, -- F
	cantidad INT,
	precioCompra DECIMAL(18, 2),
	subtotal DECIMAL(18, 2)	
);

CREATE TABLE empleado(
	ID INT PRIMARY KEY AUTO_INCREMENT,
	usuario VARCHAR(50),
	contraseña VARCHAR(50),
	nombre VARCHAR(50),
	apellido VARCHAR(50),
	telefono VARCHAR(9),
	email VARCHAR(50),
	fecNacimiento DATE,
	estado BOOLEAN,
	dni VARCHAR(12)
);

CREATE TABLE pago (
	ID INT PRIMARY KEY AUTO_INCREMENT,
	monto DECIMAL(18, 2)
);

CREATE TABLE producto (
	ID INT PRIMARY KEY AUTO_INCREMENT,
	nombre VARCHAR(50),
	genero VARCHAR(20),
	descripcion VARCHAR(255),
	precio DECIMAL(18, 2),
	stock INT,
	imagen VARCHAR(255),
	categoria VARCHAR(50),
	color VARCHAR(50),
	talla INT,
	marca VARCHAR(50),
	id_categoria INT, -- F
	id_empleado INT, -- F
	id_talla INT, -- F
	id_marca INT, -- F
	id_color INT -- F
);


ALTER TABLE producto
ADD FOREIGN KEY (id_categoria) REFERENCES categoria(ID);

ALTER TABLE producto 
ADD FOREIGN KEY (id_empleado) REFERENCES empleado(ID);

ALTER TABLE producto
ADD FOREIGN KEY (id_talla) REFERENCES talla(ID);

ALTER TABLE producto 
ADD FOREIGN KEY (id_marca) REFERENCES marca(ID);

ALTER TABLE producto
ADD FOREIGN KEY (id_color) REFERENCES color(ID);

ALTER TABLE detallecompras
ADD FOREIGN KEY (id_producto) REFERENCES producto(ID);

ALTER TABLE detallecompras 
ADD FOREIGN KEY (id_compra) REFERENCES compra(ID);

ALTER TABLE compra
ADD FOREIGN KEY (id_cliente) REFERENCES cliente(ID);

ALTER TABLE compra 
ADD FOREIGN KEY (id_pago) REFERENCES pago(ID);

INSERT INTO categoria (nombre) VALUES ('Skateboarding');
INSERT INTO talla (numeroCalzado) VALUES (41);
INSERT INTO color (color) VALUES ('Negro');
INSERT INTO marca (marca) VALUES ('Vans');

INSERT INTO empleado (usuario, contraseña, nombre, apellido, telefono, email, fecNacimiento, estado, dni) 
VALUES ('admin', 'admin', 'Juan', 'Pérez', '123456789', 'juan@example.com', '1990-05-15', true, '1234567890AB');

-- INSERT INTO producto (nombre, genero, descripcion, precio, stock, imagen, categoria, color, talla, marca, id_categoria, id_empleado, id_talla, id_marca, id_color)
VALUES ('Vans Classic', 'Hombre', 'Zapatillas Old Skool', 29.9, 50, 'img/Vans.jpg', 'Skateboarding', 'Negro', 41, 'Vans', 1, 1, 1, 1, 1);



